{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/mock.service\";\nfunction MockFormComponent_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 5);\n    i0.ɵɵtext(1, \"Mock creado exitosamente \\u2705\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let MockFormComponent = /*#__PURE__*/(() => {\n  class MockFormComponent {\n    fb;\n    mockService;\n    mockForm;\n    success = false;\n    constructor(fb, mockService) {\n      this.fb = fb;\n      this.mockService = mockService;\n      this.mockForm = this.fb.group({\n        route: ['', Validators.required],\n        response: ['', Validators.required]\n      });\n    }\n    onSubmit() {\n      const raw = this.mockForm.value;\n      try {\n        const payload = {\n          route: raw.route,\n          response: JSON.parse(raw.response)\n        };\n        this.mockService.createMock(payload).subscribe(() => {\n          this.success = true;\n          this.mockForm.reset();\n        });\n      } catch (e) {\n        alert(\"Respuesta no es un JSON válido.\");\n      }\n    }\n    static ɵfac = function MockFormComponent_Factory(t) {\n      return new (t || MockFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.MockService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MockFormComponent,\n      selectors: [[\"app-mock-form\"]],\n      decls: 14,\n      vars: 3,\n      consts: [[3, \"ngSubmit\", \"formGroup\"], [\"formControlName\", \"route\", \"placeholder\", \"ej: demo\"], [\"formControlName\", \"response\", \"rows\", \"6\"], [\"type\", \"submit\", 3, \"disabled\"], [\"style\", \"color:green;\", 4, \"ngIf\"], [2, \"color\", \"green\"]],\n      template: function MockFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Crear nuevo Mock\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function MockFormComponent_Template_form_ngSubmit_2_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(3, \"label\");\n          i0.ɵɵtext(4, \"Ruta:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"input\", 1)(6, \"br\");\n          i0.ɵɵelementStart(7, \"label\");\n          i0.ɵɵtext(8, \"Respuesta JSON:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(9, \"textarea\", 2)(10, \"br\");\n          i0.ɵɵelementStart(11, \"button\", 3);\n          i0.ɵɵtext(12, \"Guardar\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(13, MockFormComponent_p_13_Template, 2, 0, \"p\", 4);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"formGroup\", ctx.mockForm);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"disabled\", ctx.mockForm.invalid);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.success);\n        }\n      },\n      encapsulation: 2\n    });\n  }\n  return MockFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}